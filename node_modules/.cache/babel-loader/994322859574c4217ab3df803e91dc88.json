{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getFixtureStateProps = getFixtureStateProps;\nexports.findFixtureStateProps = findFixtureStateProps;\nexports.createFixtureStateProps = createFixtureStateProps;\nexports.resetFixtureStateProps = resetFixtureStateProps;\nexports.updateFixtureStateProps = updateFixtureStateProps;\nexports.removeFixtureStateProps = removeFixtureStateProps;\nexports.DEFAULT_RENDER_KEY = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _util = require(\"../util\");\n\nvar DEFAULT_RENDER_KEY = 0;\nexports.DEFAULT_RENDER_KEY = DEFAULT_RENDER_KEY;\n\nfunction getFixtureStateProps(fixtureState, decoratorId) {\n  var props = fixtureState.props;\n  return props ? props.filter(function (p) {\n    return p.elementId.decoratorId === decoratorId;\n  }) : [];\n}\n\nfunction findFixtureStateProps(fixtureState, elementId) {\n  var props = fixtureState.props;\n  return props && (0, _lodash.find)(props, function (p) {\n    return (0, _lodash.isEqual)(p.elementId, elementId);\n  });\n}\n\nfunction createFixtureStateProps(_ref) {\n  var fixtureState = _ref.fixtureState,\n      elementId = _ref.elementId,\n      values = _ref.values,\n      componentName = _ref.componentName;\n  var _fixtureState$props = fixtureState.props,\n      props = _fixtureState$props === void 0 ? [] : _fixtureState$props;\n  return (0, _util.replaceOrAddItem)(props, createPropsMatcher(elementId), {\n    elementId: elementId,\n    values: values,\n    renderKey: DEFAULT_RENDER_KEY,\n    componentName: componentName\n  });\n}\n\nfunction resetFixtureStateProps(_ref2) {\n  var fixtureState = _ref2.fixtureState,\n      elementId = _ref2.elementId,\n      values = _ref2.values;\n  var propsItem = expectFixtureStateProps(fixtureState, elementId);\n  return (0, _util.updateItem)(fixtureState.props, propsItem, {\n    values: values,\n    renderKey: propsItem.renderKey + 1\n  });\n}\n\nfunction updateFixtureStateProps(_ref3) {\n  var fixtureState = _ref3.fixtureState,\n      elementId = _ref3.elementId,\n      values = _ref3.values;\n  var propsItem = expectFixtureStateProps(fixtureState, elementId);\n  return (0, _util.updateItem)(fixtureState.props, propsItem, {\n    values: values\n  });\n}\n\nfunction removeFixtureStateProps(fixtureState, elementId) {\n  return (0, _util.removeItemMatch)(fixtureState.props || [], createPropsMatcher(elementId));\n}\n\nfunction createPropsMatcher(elementId) {\n  return function (p) {\n    return (0, _lodash.isEqual)(p.elementId, elementId);\n  };\n}\n\nfunction expectFixtureStateProps(fixtureState, elementId) {\n  var propsItem = findFixtureStateProps(fixtureState, elementId);\n\n  if (!propsItem) {\n    var elId = JSON.stringify(elementId);\n    throw new Error(\"Fixture state props missing for element \\\"\".concat(elId, \"\\\"\"));\n  }\n\n  return propsItem;\n}","map":{"version":3,"sources":["/home/cubex/www/koruts/TASKS/node_modules/react-cosmos-shared2/dist/fixtureState/props.js"],"names":["Object","defineProperty","exports","value","getFixtureStateProps","findFixtureStateProps","createFixtureStateProps","resetFixtureStateProps","updateFixtureStateProps","removeFixtureStateProps","DEFAULT_RENDER_KEY","_lodash","require","_util","fixtureState","decoratorId","props","filter","p","elementId","find","isEqual","_ref","values","componentName","_fixtureState$props","replaceOrAddItem","createPropsMatcher","renderKey","_ref2","propsItem","expectFixtureStateProps","updateItem","_ref3","removeItemMatch","elId","JSON","stringify","Error","concat"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getFixtureStateProps = getFixtureStateProps;\nexports.findFixtureStateProps = findFixtureStateProps;\nexports.createFixtureStateProps = createFixtureStateProps;\nexports.resetFixtureStateProps = resetFixtureStateProps;\nexports.updateFixtureStateProps = updateFixtureStateProps;\nexports.removeFixtureStateProps = removeFixtureStateProps;\nexports.DEFAULT_RENDER_KEY = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _util = require(\"../util\");\n\nvar DEFAULT_RENDER_KEY = 0;\nexports.DEFAULT_RENDER_KEY = DEFAULT_RENDER_KEY;\n\nfunction getFixtureStateProps(fixtureState, decoratorId) {\n  var props = fixtureState.props;\n  return props ? props.filter(function (p) {\n    return p.elementId.decoratorId === decoratorId;\n  }) : [];\n}\n\nfunction findFixtureStateProps(fixtureState, elementId) {\n  var props = fixtureState.props;\n  return props && (0, _lodash.find)(props, function (p) {\n    return (0, _lodash.isEqual)(p.elementId, elementId);\n  });\n}\n\nfunction createFixtureStateProps(_ref) {\n  var fixtureState = _ref.fixtureState,\n      elementId = _ref.elementId,\n      values = _ref.values,\n      componentName = _ref.componentName;\n  var _fixtureState$props = fixtureState.props,\n      props = _fixtureState$props === void 0 ? [] : _fixtureState$props;\n  return (0, _util.replaceOrAddItem)(props, createPropsMatcher(elementId), {\n    elementId: elementId,\n    values: values,\n    renderKey: DEFAULT_RENDER_KEY,\n    componentName: componentName\n  });\n}\n\nfunction resetFixtureStateProps(_ref2) {\n  var fixtureState = _ref2.fixtureState,\n      elementId = _ref2.elementId,\n      values = _ref2.values;\n  var propsItem = expectFixtureStateProps(fixtureState, elementId);\n  return (0, _util.updateItem)(fixtureState.props, propsItem, {\n    values: values,\n    renderKey: propsItem.renderKey + 1\n  });\n}\n\nfunction updateFixtureStateProps(_ref3) {\n  var fixtureState = _ref3.fixtureState,\n      elementId = _ref3.elementId,\n      values = _ref3.values;\n  var propsItem = expectFixtureStateProps(fixtureState, elementId);\n  return (0, _util.updateItem)(fixtureState.props, propsItem, {\n    values: values\n  });\n}\n\nfunction removeFixtureStateProps(fixtureState, elementId) {\n  return (0, _util.removeItemMatch)(fixtureState.props || [], createPropsMatcher(elementId));\n}\n\nfunction createPropsMatcher(elementId) {\n  return function (p) {\n    return (0, _lodash.isEqual)(p.elementId, elementId);\n  };\n}\n\nfunction expectFixtureStateProps(fixtureState, elementId) {\n  var propsItem = findFixtureStateProps(fixtureState, elementId);\n\n  if (!propsItem) {\n    var elId = JSON.stringify(elementId);\n    throw new Error(\"Fixture state props missing for element \\\"\".concat(elId, \"\\\"\"));\n  }\n\n  return propsItem;\n}"]},"metadata":{},"sourceType":"script"}