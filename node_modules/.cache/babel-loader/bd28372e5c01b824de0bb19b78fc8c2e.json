{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setElementAtPath = setElementAtPath;\n\nvar _lodash = require(\"lodash\");\n\nvar _react = require(\"../../../../react\");\n\nvar _getElementAtPath = require(\"./getElementAtPath\");\n\nvar _shared = require(\"./shared\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction setElementAtPath(node, elPath, updater) {\n  var childEl = (0, _getElementAtPath.getExpectedElementAtPath)(node, elPath);\n  var newEl = updater(childEl);\n\n  if ((0, _shared.isRootPath)(elPath)) {\n    return newEl;\n  } // _.set also accepts arrays\n  // https://github.com/lodash/lodash/blob/6018350ac10d5ce6a5b7db625140b82aeab804df/isObject.js#L15-L16\n\n\n  return (0, _lodash.set)(cloneNode(node), elPath, newEl);\n}\n\nfunction cloneNode(value) {\n  if (Array.isArray(value)) {\n    return value.map(function (n) {\n      return cloneNode(n);\n    });\n  }\n\n  if ((0, _react.isReactElement)(value)) {\n    var _value$props = value.props,\n        children = _value$props.children,\n        otherProps = _objectWithoutProperties(_value$props, [\"children\"]);\n\n    return _objectSpread(_objectSpread({}, value), {}, {\n      props: _objectSpread(_objectSpread({}, otherProps), {}, {\n        children: cloneNode(children)\n      })\n    });\n  }\n\n  return value;\n}","map":{"version":3,"sources":["/home/cubex/www/koruts/TASKS/node_modules/react-cosmos-shared2/dist/FixtureLoader/FixtureCapture/shared/nodeTree/setElementAtPath.js"],"names":["Object","defineProperty","exports","value","setElementAtPath","_lodash","require","_react","_getElementAtPath","_shared","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","configurable","writable","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","node","elPath","updater","childEl","getExpectedElementAtPath","newEl","isRootPath","set","cloneNode","Array","isArray","map","n","isReactElement","_value$props","props","children","otherProps"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setElementAtPath = setElementAtPath;\n\nvar _lodash = require(\"lodash\");\n\nvar _react = require(\"../../../../react\");\n\nvar _getElementAtPath = require(\"./getElementAtPath\");\n\nvar _shared = require(\"./shared\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction setElementAtPath(node, elPath, updater) {\n  var childEl = (0, _getElementAtPath.getExpectedElementAtPath)(node, elPath);\n  var newEl = updater(childEl);\n\n  if ((0, _shared.isRootPath)(elPath)) {\n    return newEl;\n  } // _.set also accepts arrays\n  // https://github.com/lodash/lodash/blob/6018350ac10d5ce6a5b7db625140b82aeab804df/isObject.js#L15-L16\n\n\n  return (0, _lodash.set)(cloneNode(node), elPath, newEl);\n}\n\nfunction cloneNode(value) {\n  if (Array.isArray(value)) {\n    return value.map(function (n) {\n      return cloneNode(n);\n    });\n  }\n\n  if ((0, _react.isReactElement)(value)) {\n    var _value$props = value.props,\n        children = _value$props.children,\n        otherProps = _objectWithoutProperties(_value$props, [\"children\"]);\n\n    return _objectSpread(_objectSpread({}, value), {}, {\n      props: _objectSpread(_objectSpread({}, otherProps), {}, {\n        children: cloneNode(children)\n      })\n    });\n  }\n\n  return value;\n}"]},"metadata":{},"sourceType":"script"}